{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": ["config:recommended"],
  "schedule": ["before 9am on saturday"],
  "prConcurrentLimit": 5,
  "packageRules": [
    {
      "description": "Group Helm chart updates (require manual review)",
      "matchManagers": ["helmv3"],
      "groupName": "helm charts",
      "automerge": false
    },
    {
      "description": "Group Kubernetes and Helm Go modules",
      "matchManagers": ["gomod"],
      "matchPackagePatterns": ["^k8s\\.io/", "^helm\\.sh/", "^sigs\\.k8s\\.io/"],
      "groupName": "kubernetes go modules"
    },
    {
      "description": "Group monitoring-related updates",
      "matchPackagePatterns": ["prometheus", "grafana"],
      "groupName": "monitoring"
    },
    {
      "description": "Group GitHub Actions updates",
      "matchManagers": ["github-actions"],
      "groupName": "github actions",
      "automerge": true,
      "matchUpdateTypes": ["minor", "patch"]
    },
    {
      "description": "Auto-merge minor/patch Go module updates",
      "matchManagers": ["gomod"],
      "automerge": true,
      "matchUpdateTypes": ["minor", "patch"]
    },
    {
      "description": "Auto-merge minor/patch Python dependency updates",
      "matchManagers": ["pip_requirements"],
      "automerge": true,
      "matchUpdateTypes": ["minor", "patch"]
    },
    {
      "description": "Auto-merge minor/patch pre-commit hook updates",
      "matchManagers": ["pre-commit"],
      "automerge": true,
      "matchUpdateTypes": ["minor", "patch"]
    }
  ]
}
